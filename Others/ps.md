# 나머지 연산의 곱셈 역원

+ 정수 a를 m으로 나눴을 때, a*x % m = 1 을 만족하는  x를 a의 나머지 연산의 곱셈 역원 이라고 하며 a^-1로 표기한다.

표현식 : a * a^-1 = 1 (mod m) , a^-1 = x(mod m)

예시: 10 * 2 = 20 % 19 = 1 정수 10, 19로 나눴을 때, 역원은 2,21, . . .  = 2 (mod m) 이다.

+ 역원이 사용될 때,
	+ (a/b) % m ->  (a%m) / (b%m) -> (a%m) * (b^-1 % m) -> 해결

+ 단, 일반적으로 구하면 b*i %m   == 1인 i를 O(b)번 걸려야 구하므로 다른 2가지 방법을 소개한다.
- - -

# 확장 유클리드 알고리즘
+ ax+by = gcd(a,b)의 해인 x,y를 찾는 것 
	+ 여기서는 b^-1 % m를 구하기 위해 b * x(곱셈 역원) = 1 -> bx + my = gcd(b,m)을 이용하여 x를 구하는 방법이다.
	+ 시간 복잡도는 O(log b)이다.
	+ 단, b,m가 서로소 일때에만 가능하다. 반례 : 4,6. 
		+ 따라서 m이 소수로 주어지는 경우가 많다.

+ Example 
	+ (13/14) mod 11 ->(13*14^-1) mod 11  ->(2*3^-1) mod 11  .... 3^-1 mod 11 = ?
	
+ 3^-1 mod 11 을 구하는 법.
	+ 3x + 11y = gcd(11,3)
	+ si = si-2 - (si-1 *qi-1
	+ ti = ti-2-(ti-1*qi-1 )
	+ ri = ri-2 - (ri-1*qi-1) [ri-2 >= ri-1 -> ri = ri-1 mod ri-2)
	+ qi = ri-1 / ri
|i  | si | ti | ri | qi
|---|---|---|--------|---|
|0|1 |0 |a | |
|1|0 |1 |b |a/b |
|2| | | a mod b| |
|3| | | | |

|i  | si | ti | ri | qi
|---|---|---|--------|---|
|0|1 |0 |3 | |
|1|0 |1 |11 |3/11 = 0 |
|2|1 |0 |3 |11/3 = 3  |
|3|-3 |1 |2 |3/2 = 1 |
|4| 4 | -1 | 1 | 3 |
|5| -15 | 4| 0 | 0 | 
+ r= 0인 idx가 5이므로 idx-1인 4의 si(4) 와 t1(-1)이 답이다. 즉 3(4) + 11(-1) = 1이다.
	+ si , t1이 음수이면 mod를 더해줘 양수로 만든다.
+ 따라서 3^-1 mod 11 = 4,     2%11 * 4%11 = 8이다.

---
## 유클리드 알고리즘
+ A,B에 대해 최대 공약수를 구하는 알고리즘. (A>B)
	+ gcd(A,B) = gcd(B,A%B) = . .  . {나머지가 0일 때 까지 반복 -> 나머지가 0일 때, 몫이 최대 공약수}
```
int gcd(int a, int b) {
	return a%b ? gcd(a%b,b) : b; 
}
```
---
# 페르마의 소정리

+ b와 m이 서로소이고 m이 소수라면 b^m-1 = 1 (mod m)이므로 b^m-2 가 b의 곱셈 역원이다. (b^-1 * b^m-2  = b^m-1  = 1 (mod m))
	+ 위 예시에서, 3^-1 mod 11 = 3^9이다. 즉 2^%11 * 3^9%11 = 2 * 4= 6이다.
	+ a,b,m에 대해 a/b % m = (a%m * b^m-2 )%m 이다.	


# 출처
+ https://www.acmicpc.net/blog/view/29
+ https://aruz.tistory.com/19

+ 정수론
	+ https://opentutorials.org/module/1544/9532
	+ https://rkm0959.tistory.com/177
